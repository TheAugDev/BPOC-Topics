<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Guide to the Texas Court System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Slate Blue & Cool Gray -->
    <!-- Application Structure Plan: A single-page application using a vertical, hierarchical layout to mirror the Texas court structure. The design flows from the highest appellate courts at the top down to the local trial courts. This is intuitive as it reflects the path of appeals. Each court level is an interactive, collapsible section, allowing users to drill down for more detail without being overwhelmed. Arrows and connecting lines guide the user's eye, clarifying the relationships between the courts. -->
    <!-- Visualization & Content Choices: 
        - Court Hierarchy: Report Info -> A complex flowchart diagram. Goal -> Organize & Explain Structure. Viz -> A custom, responsive hierarchy built with HTML/Tailwind flexbox and grid. Justification -> This is more accessible and mobile-friendly than a static image and allows for interactive elements.
        - Jurisdictional Details: Report Info -> Text annotations on the chart. Goal -> Inform. Viz -> Bulleted lists within each court's collapsible section. Interaction -> Clicking a court level reveals its specific duties (e.g., felony jurisdiction, civil amount limits). Justification -> Hiding details until requested (progressive disclosure) prevents information overload and makes the complex system easier to learn piece by piece.
        - Appeal Paths: Report Info -> Lines connecting courts. Goal -> Show Flow. Viz -> CSS borders and pseudo-elements to create visual connectors between the court cards. Justification -> Visually reinforces the path a case takes through the court system, from trial to appeal.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        details > summary { 
            cursor: pointer;
            transition: background-color 0.2s;
        }
        details[open] > summary {
            background-color: #f0f4f8; /* A light blue-gray for open state */
        }
        .court-card {
            border: 2px solid #cbd5e1;
            transition: box-shadow 0.2s;
        }
        .court-card:hover {
             box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .connector {
            width: 2px;
            background-color: #94a3b8;
            margin: 0 auto;
        }
        .connector-h {
            height: 2px;
            background-color: #94a3b8;
            width: 100%;
        }
        
        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .container {
                padding: 1rem !important;
            }
            
            h1 {
                font-size: 2rem !important;
            }
            
            h2 {
                font-size: 1.5rem !important;
            }
            
            h3 {
                font-size: 1.25rem !important;
            }
            
            /* Improve touch targets for mobile */
            details > summary {
                padding: 1rem;
                font-size: 1.1rem;
                min-height: 48px;
                display: flex;
                align-items: center;
                border-radius: 0.5rem;
            }
            
            /* Better spacing for mobile */
            .space-y-8 > * + * {
                margin-top: 1.5rem !important;
            }
            
            .space-y-6 > * + * {
                margin-top: 1.25rem !important;
            }
            
            .space-y-4 > * + * {
                margin-top: 1rem !important;
            }
            
            /* Improve readability on mobile */
            p, li {
                line-height: 1.6;
            }
            
            .text-sm {
                font-size: 0.9rem !important;
            }
            
            /* Grid adjustments for mobile */
            .grid {
                grid-template-columns: 1fr !important;
                gap: 1rem !important;
            }
            
            /* Court card adjustments */
            .court-card {
                padding: 1rem !important;
                margin: 0.5rem 0 !important;
            }
            
            /* Connector adjustments for mobile */
            .connector {
                width: 1px;
                height: 1rem;
            }
            
            .connector-h {
                height: 1px;
                margin: 0.5rem 0;
            }
            
            /* Flex adjustments */
            .flex {
                flex-direction: column !important;
            }
            
            .md\\:flex-row {
                flex-direction: column !important;
            }
        }
        
        /* Very small screens */
        @media (max-width: 480px) {
            .container {
                padding: 0.5rem !important;
            }
            
            h1 {
                font-size: 1.75rem !important;
            }
            
            .court-card {
                padding: 0.75rem !important;
                border-radius: 0.5rem;
            }
            
            details > summary {
                padding: 0.75rem;
                font-size: 1rem;
            }
        }
        
        /* Landscape mobile orientation */
        @media (max-width: 768px) and (orientation: landscape) {
            .container {
                padding: 0.5rem !important;
            }
            
            h1 {
                font-size: 1.5rem !important;
            }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">
        <header class="text-center mb-10">
            <div class="mb-4">
                <a href="../index.html" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium">
                    <span class="mr-2">←</span> Back to Main
                </a>
            </div>
            <h1 class="text-4xl font-bold text-slate-800">The Court Structure of Texas</h1>
            <p class="text-slate-600 mt-2">An Interactive Guide to the Judicial System</p>
        </header>

        <main class="flex flex-col items-center">

            <!-- Highest Appellate Courts -->
            <div class="w-full">
                <div class="text-center mb-2">
                    <span class="text-sm font-semibold uppercase text-slate-500 tracking-wider">State Highest Appellate Courts</span>
                </div>
                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Supreme Court -->
                    <details class="court-card bg-white p-4 rounded-lg">
                        <summary class="font-bold text-lg text-blue-800">Supreme Court</summary>
                        <div class="mt-4 pt-4 border-t border-slate-200 text-sm space-y-2">
                            <p><strong>Composition:</strong> 1 Court – 9 Justices</p>
                            <p class="font-semibold text-blue-700">Jurisdiction:</p>
                            <ul class="list-disc list-inside ml-4">
                                <li>Final appellate jurisdiction in civil and juvenile cases.</li>
                            </ul>
                            <p class="font-semibold text-blue-700 mt-2">Typical Scenario:</p>
                            <p class="ml-4 italic">A large corporation loses a multi-million dollar patent infringement lawsuit at the Court of Appeals and petitions the Supreme Court for a final review.</p>
                        </div>
                    </details>
                    <!-- Court of Criminal Appeals -->
                    <details class="court-card bg-white p-4 rounded-lg">
                        <summary class="font-bold text-lg text-red-800">Court of Criminal Appeals</summary>
                         <div class="mt-4 pt-4 border-t border-slate-200 text-sm space-y-2">
                            <p><strong>Composition:</strong> 1 Court – 9 Justices</p>
                            <p class="font-semibold text-red-700">Jurisdiction:</p>
                            <ul class="list-disc list-inside ml-4">
                                <li>Final appellate jurisdiction in all criminal cases.</li>
                                <li>Appeals of Death Sentences are sent directly here.</li>
                            </ul>
                             <p class="font-semibold text-red-700 mt-2">Typical Scenario:</p>
                            <p class="ml-4 italic">A defendant convicted of Murder, whose conviction was upheld by the Court of Appeals, seeks a final appeal, arguing a significant error in legal procedure occurred during their trial.</p>
                        </div>
                    </details>
                </div>
            </div>

            <div class="connector h-12"></div>

            <!-- Intermediate Appellate Courts -->
            <div class="w-full md:w-3/4">
                <div class="text-center mb-2">
                    <span class="text-sm font-semibold uppercase text-slate-500 tracking-wider">State Intermediate Appellate Courts</span>
                </div>
                <details class="court-card bg-white p-4 rounded-lg">
                    <summary class="font-bold text-lg text-slate-700">Courts of Appeals</summary>
                    <div class="mt-4 pt-4 border-t border-slate-200 text-sm space-y-2">
                        <p><strong>Composition:</strong> 14 Courts – 80 Justices</p>
                        <p class="font-semibold text-slate-600">Jurisdiction:</p>
                        <ul class="list-disc list-inside ml-4">
                            <li>Regional jurisdiction.</li>
                            <li>Hears intermediate appeals from trial courts in their respective districts (both civil and criminal cases).</li>
                        </ul>
                         <p class="font-semibold text-slate-600 mt-2">Typical Scenario:</p>
                         <p class="ml-4 italic">A defendant convicted of DWI in a County Court at Law appeals the conviction, claiming that evidence was improperly admitted during the trial.</p>
                    </div>
                </details>
            </div>
            
            <div class="connector h-12"></div>

            <!-- State Trial Courts -->
            <div class="w-full md:w-3/4">
                <div class="text-center mb-2">
                    <span class="text-sm font-semibold uppercase text-slate-500 tracking-wider">State Trial Courts of General & Special Jurisdiction</span>
                </div>
                <details class="court-card bg-white p-4 rounded-lg">
                    <summary class="font-bold text-lg text-slate-700">District Courts</summary>
                     <div class="mt-4 pt-4 border-t border-slate-200 text-sm space-y-2">
                        <p><strong>Composition:</strong> 482 Courts – 482 Judges</p>
                        <p class="font-semibold text-slate-600">Jurisdiction:</p>
                        <ul class="list-disc list-inside ml-4">
                            <li>Original jurisdiction in all felony criminal matters.</li>
                             <li>Original jurisdiction in civil actions over $200, divorce, title to land, and contested elections.</li>
                             <li>Juvenile matters.</li>
                        </ul>
                         <p class="font-semibold text-slate-600 mt-2">Typical Scenario:</p>
                         <p class="ml-4 italic">A person is indicted by a grand jury for Burglary of a Habitation, a felony. Their case is tried in a District Court.</p>
                    </div>
                </details>
            </div>

            <div class="connector h-12"></div>
            
            <!-- County-Level Courts -->
            <div class="w-full">
                 <div class="text-center mb-2">
                    <span class="text-sm font-semibold uppercase text-slate-500 tracking-wider">County Trial Courts of Limited Jurisdiction</span>
                </div>
                <div class="grid lg:grid-cols-3 gap-6">
                    <!-- Constitutional County Courts -->
                    <details class="court-card bg-white p-4 rounded-lg">
                        <summary class="font-bold text-md text-slate-700">Constitutional County Courts</summary>
                         <div class="mt-4 pt-4 border-t border-slate-200 text-sm space-y-2">
                            <p><strong>Composition:</strong> 254 Courts (1 in each county)</p>
                            <p class="font-semibold text-slate-600">Jurisdiction:</p>
                            <ul class="list-disc list-inside ml-4">
                                <li>Exclusive original jurisdiction over misdemeanors with fines greater than $500 or jail sentence.</li>
                                <li>Civil actions between $200 and $20,000.</li>
                                <li>Probate and mental health matters.</li>
                                <li>Appeals from lower courts (de novo).</li>
                            </ul>
                            <p class="font-semibold text-slate-600 mt-2">Typical Scenario:</p>
                            <p class="ml-4 italic">A person is arrested for Driving While Intoxicated (1st offense), a Class B Misdemeanor. Their case is heard in the Constitutional County Court.</p>
                        </div>
                    </details>
                    <!-- Statutory County Courts -->
                    <details class="court-card bg-white p-4 rounded-lg">
                        <summary class="font-bold text-md text-slate-700">Statutory County Courts</summary>
                        <div class="mt-4 pt-4 border-t border-slate-200 text-sm space-y-2">
                            <p><strong>Composition:</strong> 255 Courts</p>
                            <p class="font-semibold text-slate-600">Jurisdiction:</p>
                            <ul class="list-disc list-inside ml-4">
                                <li>All civil, criminal, original and appellate actions prescribed by law for constitutional county courts.</li>
                                <li>Jurisdiction over civil matters up to $250,000.</li>
                            </ul>
                            <p class="font-semibold text-slate-600 mt-2">Typical Scenario:</p>
                            <p class="ml-4 italic">A business sues a client for $80,000 in unpaid invoices. The case is filed in a Statutory County Court due to the amount in controversy.</p>
                        </div>
                    </details>
                     <!-- Statutory Probate Courts -->
                    <details class="court-card bg-white p-4 rounded-lg">
                        <summary class="font-bold text-md text-slate-700">Statutory Probate Courts</summary>
                        <div class="mt-4 pt-4 border-t border-slate-200 text-sm space-y-2">
                            <p><strong>Composition:</strong> 18 Courts (in 10 counties)</p>
                            <p class="font-semibold text-slate-600">Jurisdiction:</p>
                            <ul class="list-disc list-inside ml-4">
                                <li>Limited primarily to probate, mental health, and guardianship matters.</li>
                            </ul>
                            <p class="font-semibold text-slate-600 mt-2">Typical Scenario:</p>
                            <p class="ml-4 italic">A family disputes the validity of a will after a relative's death. The case to probate the will and settle the estate is heard in a Statutory Probate Court.</p>
                        </div>
                    </details>
                </div>
            </div>

            <div class="connector h-12"></div>

            <!-- Local Trial Courts -->
            <div class="w-full">
                <div class="text-center mb-2">
                    <span class="text-sm font-semibold uppercase text-slate-500 tracking-wider">Local Trial Courts of Limited Jurisdiction</span>
                </div>
                 <div class="grid md:grid-cols-2 gap-8">
                    <!-- Justice Courts -->
                    <details class="court-card bg-white p-4 rounded-lg">
                        <summary class="font-bold text-lg text-slate-700">Justice Courts</summary>
                        <div class="mt-4 pt-4 border-t border-slate-200 text-sm space-y-2">
                            <p><strong>Composition:</strong> 801 Courts – 801 Judges</p>
                            <p class="font-semibold text-slate-600">Jurisdiction:</p>
                            <ul class="list-disc list-inside ml-4">
                                <li>Criminal misdemeanors punishable by fine only (Class C).</li>
                                <li>Civil actions of not more than $20,000.</li>
                                <li>Small claims.</li>
                                <li>Magistrate functions.</li>
                            </ul>
                            <p class="font-semibold text-slate-600 mt-2">Typical Scenario:</p>
                            <p class="ml-4 italic">A driver receives a speeding ticket (a Class C misdemeanor). Their case is handled by the Justice of the Peace for that precinct.</p>
                        </div>
                    </details>
                    <!-- Municipal Courts -->
                    <details class="court-card bg-white p-4 rounded-lg">
                        <summary class="font-bold text-lg text-slate-700">Municipal Courts</summary>
                         <div class="mt-4 pt-4 border-t border-slate-200 text-sm space-y-2">
                            <p><strong>Composition:</strong> 945 Courts – 1,316 Judges</p>
                            <p class="font-semibold text-slate-600">Jurisdiction:</p>
                            <ul class="list-disc list-inside ml-4">
                                <li>Criminal misdemeanors punishable by fine only (Class C).</li>
                                <li>Exclusive original jurisdiction over municipal ordinance criminal cases.</li>
                                <li>Limited civil jurisdiction.</li>
                                <li>Magistrate functions.</li>
                            </ul>
                            <p class="font-semibold text-slate-600 mt-2">Typical Scenario:</p>
                            <p class="ml-4 italic">A homeowner receives a citation for a city code violation, such as having high grass. The case is heard in Municipal Court.</p>
                        </div>
                    </details>
                </div>
            </div>

            <!-- Interactive Quiz Section -->
            <section id="interactive-quiz" class="bg-white p-6 rounded-lg shadow-md mt-8">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">Interactive Quiz: Texas Court System</h2>
                <p class="mb-6 text-slate-600">Test your understanding of the Texas court system structure, jurisdiction, and case flow covered in this guide.</p>
                
                <div id="quiz-container" class="space-y-6">
                    <div class="flex justify-between items-center mb-4">
                        <div class="text-sm text-slate-600">
                            Question <span id="current-question">1</span> of <span id="total-questions">10</span>
                        </div>
                        <div class="text-sm text-slate-600">
                            Score: <span id="current-score">0</span>/<span id="questions-answered">0</span>
                        </div>
                    </div>
                    
                    <div class="w-full bg-slate-200 rounded-full h-2 mb-6">
                        <div id="progress-bar" class="bg-slate-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                    
                    <div id="question-container" class="p-6 bg-slate-50 rounded-lg">
                        <!-- Questions will be populated by JavaScript -->
                    </div>
                    
                    <div id="explanation-container" class="hidden p-4 rounded-lg">
                        <!-- Explanations will be shown after each answer -->
                    </div>
                    
                    <div class="flex justify-between">
                        <button id="prev-btn" class="px-4 py-2 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Previous
                        </button>
                        <button id="next-btn" class="px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Next Question
                        </button>
                    </div>
                    
                    <div id="quiz-results" class="hidden p-6 bg-slate-50 rounded-lg text-center">
                        <h3 class="text-xl font-bold mb-4">Quiz Complete!</h3>
                        <div id="final-score" class="text-3xl font-bold text-slate-600 mb-4"></div>
                        <div id="performance-message" class="text-slate-600 mb-4"></div>
                        <button id="restart-quiz" class="px-6 py-3 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors">
                            Retake Quiz
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Quiz Data for Texas Court System
        const courtSystemQuizData = [
            {
                question: "Which court has final appellate jurisdiction for criminal cases in Texas?",
                options: [
                    "Texas Supreme Court",
                    "Texas Court of Criminal Appeals",
                    "Court of Appeals",
                    "District Court"
                ],
                correct: 1,
                explanation: "The Texas Court of Criminal Appeals has final appellate jurisdiction for criminal cases in Texas. The Texas Supreme Court handles civil matters."
            },
            {
                question: "What type of cases does the Texas Supreme Court primarily handle?",
                options: [
                    "Criminal appeals",
                    "Civil appeals and administrative matters",
                    "Felony trials",
                    "Municipal ordinance violations"
                ],
                correct: 1,
                explanation: "The Texas Supreme Court is the highest civil court in Texas, handling civil appeals and administrative matters. Criminal appeals go to the Court of Criminal Appeals."
            },
            {
                question: "Which courts have jurisdiction over felony cases?",
                options: [
                    "Justice of the Peace Courts",
                    "Municipal Courts",
                    "District Courts",
                    "County Courts at Law"
                ],
                correct: 2,
                explanation: "District Courts have jurisdiction over felony cases in Texas. They are the primary trial courts for serious criminal offenses."
            },
            {
                question: "What is the monetary jurisdiction limit for County Courts at Law in civil cases?",
                options: [
                    "Up to $10,000",
                    "Up to $100,000",
                    "Up to $200,000",
                    "No limit"
                ],
                correct: 2,
                explanation: "County Courts at Law typically have civil jurisdiction up to $200,000, though this can vary by county and specific court designation."
            },
            {
                question: "Which courts handle Class C misdemeanors?",
                options: [
                    "District Courts only",
                    "County Courts at Law only", 
                    "Justice of the Peace and Municipal Courts",
                    "All courts have this jurisdiction"
                ],
                correct: 2,
                explanation: "Justice of the Peace Courts and Municipal Courts have concurrent jurisdiction over Class C misdemeanors, which are punishable by fine only."
            },
            {
                question: "What type of jurisdiction do Courts of Appeals have?",
                options: [
                    "Original jurisdiction only",
                    "Intermediate appellate jurisdiction",
                    "Final appellate jurisdiction",
                    "Administrative jurisdiction only"
                ],
                correct: 1,
                explanation: "Courts of Appeals serve as intermediate appellate courts, reviewing cases from trial courts before they potentially go to the highest appellate courts."
            },
            {
                question: "Which court would handle a Class A misdemeanor case?",
                options: [
                    "Justice of the Peace Court",
                    "Municipal Court",
                    "County Court at Law",
                    "District Court"
                ],
                correct: 2,
                explanation: "County Courts at Law have jurisdiction over Class A and Class B misdemeanors. Class C misdemeanors go to JP or Municipal courts."
            },
            {
                question: "What is the primary function of Justice of the Peace Courts?",
                options: [
                    "Felony trials",
                    "Small claims, Class C misdemeanors, and magistrate duties",
                    "Appeals only",
                    "Administrative law"
                ],
                correct: 1,
                explanation: "Justice of the Peace Courts handle small claims civil cases, Class C misdemeanors, magistrate functions, and other limited jurisdiction matters."
            },
            {
                question: "Municipal Courts have exclusive jurisdiction over what type of cases?",
                options: [
                    "All traffic violations",
                    "Municipal ordinance violations",
                    "Civil cases under $10,000",
                    "Class B misdemeanors"
                ],
                correct: 1,
                explanation: "Municipal Courts have exclusive original jurisdiction over municipal ordinance criminal cases, such as city code violations."
            },
            {
                question: "If someone wanted to appeal a District Court criminal conviction, where would the case go first?",
                options: [
                    "Texas Supreme Court",
                    "Texas Court of Criminal Appeals",
                    "Court of Appeals",
                    "County Court at Law"
                ],
                correct: 2,
                explanation: "Criminal appeals from District Courts first go to the intermediate Court of Appeals before potentially proceeding to the Texas Court of Criminal Appeals."
            }
        ];

        // Quiz functionality
        let currentQuestion = 0;
        let score = 0;
        let answeredQuestions = 0;
        let selectedAnswer = null;

        function initQuiz() {
            document.getElementById('total-questions').textContent = courtSystemQuizData.length;
            currentQuestion = 0;
            score = 0;
            answeredQuestions = 0;
            selectedAnswer = null;
            document.getElementById('quiz-results').classList.add('hidden');
            document.getElementById('quiz-container').classList.remove('hidden');
            showQuestion();
            updateUI();
        }

        function showQuestion() {
            const question = courtSystemQuizData[currentQuestion];
            selectedAnswer = null;
            
            document.getElementById('question-container').innerHTML = `
                <h3 class="text-lg font-semibold mb-4">${question.question}</h3>
                <div class="space-y-3">
                    ${question.options.map((option, index) => `
                        <button class="option-btn w-full text-left p-3 rounded-lg border border-slate-300 hover:bg-slate-50 hover:border-slate-400 transition-colors" 
                                data-index="${index}">
                            ${String.fromCharCode(65 + index)}. ${option}
                        </button>
                    `).join('')}
                </div>
            `;

            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.addEventListener('click', selectAnswer);
            });

            document.getElementById('explanation-container').classList.add('hidden');
            document.getElementById('next-btn').disabled = true;
            document.getElementById('next-btn').textContent = currentQuestion === courtSystemQuizData.length - 1 ? 'Finish Quiz' : 'Next Question';
        }

        function selectAnswer(e) {
            selectedAnswer = parseInt(e.target.dataset.index);
            const question = courtSystemQuizData[currentQuestion];
            
            document.querySelectorAll('.option-btn').forEach((btn, index) => {
                btn.classList.remove('bg-slate-100', 'border-slate-500', 'bg-green-100', 'border-green-500', 'bg-red-100', 'border-red-500');
                if (index === question.correct) {
                    btn.classList.add('bg-green-100', 'border-green-500');
                } else if (index === selectedAnswer && selectedAnswer !== question.correct) {
                    btn.classList.add('bg-red-100', 'border-red-500');
                }
                btn.disabled = true;
            });

            if (selectedAnswer === question.correct) score++;
            answeredQuestions++;

            document.getElementById('explanation-container').innerHTML = `
                <div class="p-4 ${selectedAnswer === question.correct ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'} border rounded-lg">
                    <h4 class="font-semibold ${selectedAnswer === question.correct ? 'text-green-800' : 'text-red-800'} mb-2">
                        ${selectedAnswer === question.correct ? 'Correct!' : 'Incorrect'}
                    </h4>
                    <p class="text-sm text-slate-700">${question.explanation}</p>
                </div>
            `;
            document.getElementById('explanation-container').classList.remove('hidden');
            document.getElementById('next-btn').disabled = false;
            updateUI();
        }

        function nextQuestion() {
            if (currentQuestion < courtSystemQuizData.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                showResults();
            }
            updateUI();
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
            updateUI();
        }

        function updateUI() {
            document.getElementById('current-question').textContent = currentQuestion + 1;
            document.getElementById('current-score').textContent = score;
            document.getElementById('questions-answered').textContent = answeredQuestions;
            const progress = ((currentQuestion + 1) / courtSystemQuizData.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('prev-btn').disabled = currentQuestion === 0;
        }

        function showResults() {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('quiz-results').classList.remove('hidden');
            const percentage = Math.round((score / courtSystemQuizData.length) * 100);
            document.getElementById('final-score').textContent = `${score}/${courtSystemQuizData.length} (${percentage}%)`;
            
            let message = '';
            if (percentage >= 90) message = 'Excellent! You have a strong understanding of the Texas court system.';
            else if (percentage >= 80) message = 'Good job! You understand most of the court structure and jurisdiction.';
            else if (percentage >= 70) message = 'Fair performance. Consider reviewing the material and retaking the quiz.';
            else message = 'Please review the training material carefully and retake the quiz.';
            
            document.getElementById('performance-message').textContent = message;
        }

        document.getElementById('next-btn').addEventListener('click', nextQuestion);
        document.getElementById('prev-btn').addEventListener('click', prevQuestion);
        document.getElementById('restart-quiz').addEventListener('click', initQuiz);

        initQuiz();
    </script>
