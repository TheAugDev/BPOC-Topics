<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Texas Penal Code Study Guide</title>
    <link rel="stylesheet" href="../dist/output.css">
    <style>
        body { font-family: 'Inter', sans-serif; }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        details > summary { 
            cursor: pointer;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            transition: background-color 0.2s;
            font-weight: 600;
        }
        details > summary:hover {
            background-color: #f8fafc;
        }
        details[open] > summary {
            background-color: #f1f5f9;
        }
        
        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .container {
                padding: 1rem !important;
            }
            
            h1 {
                font-size: 2rem !important;
            }
            
            h2 {
                font-size: 1.5rem !important;
            }
            
            h3 {
                font-size: 1.25rem !important;
            }
            
            /* Improve touch targets for mobile */
            details > summary {
                padding: 1rem;
                font-size: 1.1rem;
                min-height: 48px;
                display: flex;
                align-items: center;
            }
            
            /* Better spacing for mobile */
            .space-y-8 > * + * {
                margin-top: 1.5rem !important;
            }
            
            .space-y-6 > * + * {
                margin-top: 1.25rem !important;
            }
            
            .space-y-4 > * + * {
                margin-top: 1rem !important;
            }
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <header class="text-center mb-8">
            <div class="mb-4">
                <a href="../index.html" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium">
                    <span class="mr-2">‚Üê</span> Back to Main
                </a>
            </div>
            <h1 class="text-4xl font-bold text-slate-800">Texas Penal Code</h1>
            <p class="text-slate-600 mt-2">Study Guide for Law Enforcement</p>
        </header>

        <main class="space-y-8">
            <!-- Section 1: Overview -->
            <section id="overview" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">1. Penal Code Overview</h2>
                <p class="mb-4">The Texas Penal Code defines criminal offenses and their punishments. It's organized into titles covering different aspects of criminal law.</p>
                <div class="p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg">
                    <h4 class="font-bold text-blue-800">Key Titles</h4>
                    <ul class="list-disc list-inside mt-2 text-sm space-y-1">
                        <li>Title 1: Introductory Provisions</li>
                        <li>Title 2: General Principles of Criminal Responsibility</li>
                        <li>Title 3: Punishments</li>
                        <li>Title 4: Inchoate Offenses</li>
                        <li>Title 5: Offenses Against the Person</li>
                        <li>Title 6: Offenses Against the Family</li>
                        <li>Title 7: Offenses Against Property</li>
                        <li>Title 8: Offenses Against Public Administration</li>
                        <li>Title 9: Offenses Against Public Order and Decency</li>
                        <li>Title 10: Offenses Against Public Health, Safety, and Morals</li>
                        <li>Title 11: Organized Crime</li>
                    </ul>
                </div>
            </section>

            <!-- Section 2: Classifications -->
            <section id="classifications" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">2. Offense Classifications</h2>
                
                <div class="space-y-4">
                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Felonies</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Capital Felony:</strong> Death penalty or life imprisonment without parole</li>
                                <li><strong>First Degree Felony:</strong> Life imprisonment or 5-99 years and fine up to $10,000</li>
                                <li><strong>Second Degree Felony:</strong> 2-20 years and fine up to $10,000</li>
                                <li><strong>Third Degree Felony:</strong> 2-10 years and fine up to $10,000</li>
                                <li><strong>State Jail Felony:</strong> 180 days to 2 years and fine up to $10,000</li>
                            </ul>
                        </div>
                    </details>

                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Misdemeanors</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Class A Misdemeanor:</strong> Up to 1 year in jail and fine up to $4,000</li>
                                <li><strong>Class B Misdemeanor:</strong> Up to 180 days in jail and fine up to $2,000</li>
                                <li><strong>Class C Misdemeanor:</strong> Fine up to $500 (no jail time)</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </section>

            <!-- Section 3: Key Offenses -->
            <section id="key-offenses" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">3. Key Offenses</h2>
                
                <div class="space-y-4">
                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Assault Offenses</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Assault (22.01):</strong> Intentionally, knowingly, or recklessly causing bodily injury</li>
                                <li><strong>Aggravated Assault (22.02):</strong> Serious bodily injury or use of deadly weapon</li>
                                <li><strong>Sexual Assault (22.011):</strong> Non-consensual sexual contact</li>
                                <li><strong>Aggravated Sexual Assault (22.021):</strong> Sexual assault with aggravating factors</li>
                            </ul>
                        </div>
                    </details>

                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Theft Offenses</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Theft (31.03):</strong> Unlawfully appropriating property with intent to deprive</li>
                                <li><strong>Burglary (30.02):</strong> Entering building without consent with intent to commit felony</li>
                                <li><strong>Robbery (29.02):</strong> Theft with threat or use of force</li>
                                <li><strong>Aggravated Robbery (29.03):</strong> Robbery with deadly weapon or serious bodily injury</li>
                            </ul>
                        </div>
                    </details>

                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Drug Offenses</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Possession (Health & Safety Code):</strong> Controlled substance possession</li>
                                <li><strong>Manufacture/Delivery:</strong> Making or distributing controlled substances</li>
                                <li><strong>Possession with Intent:</strong> Possession with intent to distribute</li>
                                <li><strong>Drug-Free Zones:</strong> Enhanced penalties near schools, playgrounds</li>
                            </ul>
                        </div>
                    </details>

                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Public Order Offenses</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Public Intoxication (49.02):</strong> Appearing intoxicated in public</li>
                                <li><strong>Disorderly Conduct (42.01):</strong> Unreasonable noise, fighting, etc.</li>
                                <li><strong>Criminal Trespass (30.05):</strong> Entering/remaining on property without consent</li>
                                <li><strong>Resisting Arrest (38.03):</strong> Preventing arrest or detention</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </section>

            <!-- Section 4: Elements of Crimes -->
            <section id="elements" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">4. Elements of Crimes</h2>
                
                <div class="space-y-4">
                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Mental States (Culpability)</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Intentionally:</strong> Conscious objective to cause the result</li>
                                <li><strong>Knowingly:</strong> Aware that conduct will cause the result</li>
                                <li><strong>Recklessly:</strong> Consciously disregards substantial risk</li>
                                <li><strong>Criminal Negligence:</strong> Fails to perceive substantial risk</li>
                            </ul>
                        </div>
                    </details>

                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Proof Requirements</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Actus Reus:</strong> The guilty act - what the defendant did</li>
                                <li><strong>Mens Rea:</strong> The guilty mind - defendant's mental state</li>
                                <li><strong>Causation:</strong> Connection between act and result</li>
                                <li><strong>Concurrence:</strong> Mental state and act occurred together</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </section>

            <!-- Section 5: Defenses -->
            <section id="defenses" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">5. Defenses</h2>
                
                <div class="space-y-4">
                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Justification Defenses</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Self-Defense (9.32):</strong> Defense of person</li>
                                <li><strong>Defense of Others (9.33):</strong> Protection of third persons</li>
                                <li><strong>Defense of Property (9.41):</strong> Protection of property</li>
                                <li><strong>Law Enforcement (9.51):</strong> Police use of force</li>
                            </ul>
                        </div>
                    </details>

                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Excuse Defenses</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Insanity (8.01):</strong> Mental disease or defect</li>
                                <li><strong>Intoxication (8.04):</strong> Voluntary or involuntary intoxication</li>
                                <li><strong>Duress (8.05):</strong> Threat of imminent harm</li>
                                <li><strong>Mistake of Fact (8.02):</strong> Reasonable mistake negating mental state</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </section>

            <!-- Interactive Quiz Section -->
            <section id="interactive-quiz" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">Interactive Quiz: Texas Penal Code</h2>
                <p class="mb-6 text-slate-600">Test your knowledge of Texas Penal Code classifications, elements, and key offenses.</p>
                
                <div id="quiz-container" class="space-y-6">
                    <div class="flex justify-between items-center mb-4">
                        <div class="text-sm text-slate-600">
                            Question <span id="current-question">1</span> of <span id="total-questions">10</span>
                        </div>
                        <div class="text-sm text-slate-600">
                            Score: <span id="current-score">0</span>/<span id="questions-answered">0</span>
                        </div>
                    </div>
                    
                    <div class="w-full bg-slate-200 rounded-full h-2 mb-6">
                        <div id="progress-bar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                    
                    <div id="question-container" class="p-6 bg-slate-50 rounded-lg">
                        <!-- Questions will be populated by JavaScript -->
                    </div>
                    
                    <div id="explanation-container" class="hidden p-4 rounded-lg">
                        <!-- Explanations will be shown after each answer -->
                    </div>
                    
                    <div class="flex justify-between">
                        <button id="prev-btn" class="px-4 py-2 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Previous
                        </button>
                        <button id="next-btn" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Next Question
                        </button>
                    </div>
                    
                    <div id="quiz-results" class="hidden p-6 bg-slate-50 rounded-lg text-center">
                        <h3 class="text-xl font-bold mb-4">Quiz Complete!</h3>
                        <div id="final-score" class="text-3xl font-bold text-blue-600 mb-4"></div>
                        <div id="performance-message" class="text-slate-600 mb-4"></div>
                        <button id="restart-quiz" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                            Retake Quiz
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Quiz Data for Texas Penal Code
        const penalCodeQuizData = [
            {
                question: "What is the punishment range for a First Degree Felony?",
                options: [
                    "2-20 years and fine up to $10,000",
                    "Life imprisonment or 5-99 years and fine up to $10,000",
                    "2-10 years and fine up to $10,000",
                    "180 days to 2 years and fine up to $10,000"
                ],
                correct: 1,
                explanation: "A First Degree Felony is punishable by life imprisonment or 5-99 years and a fine up to $10,000."
            },
            {
                question: "What mental state requires conscious objective to cause the result?",
                options: [
                    "Knowingly",
                    "Recklessly", 
                    "Intentionally",
                    "Criminal Negligence"
                ],
                correct: 2,
                explanation: "Intentionally means the person has a conscious objective or desire to engage in the conduct or cause the result."
            },
            {
                question: "Which offense involves entering a building without consent with intent to commit a felony?",
                options: [
                    "Theft",
                    "Burglary",
                    "Robbery", 
                    "Criminal Trespass"
                ],
                correct: 1,
                explanation: "Burglary (PC 30.02) involves entering a habitation or building without consent with intent to commit a felony, theft, or assault."
            },
            {
                question: "What is the maximum fine for a Class A Misdemeanor?",
                options: [
                    "$500",
                    "$2,000",
                    "$4,000",
                    "$10,000"
                ],
                correct: 2,
                explanation: "A Class A Misdemeanor is punishable by up to 1 year in jail and a fine up to $4,000."
            },
            {
                question: "Which defense allows protection of third persons?",
                options: [
                    "Self-Defense",
                    "Defense of Others",
                    "Defense of Property",
                    "Law Enforcement"
                ],
                correct: 1,
                explanation: "Defense of Others (PC 9.33) allows a person to use force to protect another person under certain circumstances."
            },
            {
                question: "What distinguishes Aggravated Assault from simple Assault?",
                options: [
                    "The location where it occurs",
                    "The time of day",
                    "Serious bodily injury or use of deadly weapon",
                    "The relationship between parties"
                ],
                correct: 2,
                explanation: "Aggravated Assault (PC 22.02) involves causing serious bodily injury or using or exhibiting a deadly weapon during the assault."
            },
            {
                question: "What mental state involves failing to perceive substantial risk?",
                options: [
                    "Intentionally",
                    "Knowingly",
                    "Recklessly",
                    "Criminal Negligence"
                ],
                correct: 3,
                explanation: "Criminal Negligence occurs when a person fails to perceive a substantial and unjustifiable risk."
            },
            {
                question: "Which is the least serious classification of misdemeanor?",
                options: [
                    "Class A Misdemeanor",
                    "Class B Misdemeanor", 
                    "Class C Misdemeanor",
                    "State Jail Felony"
                ],
                correct: 2,
                explanation: "Class C Misdemeanor is the least serious, punishable only by a fine up to $500 with no jail time."
            },
            {
                question: "What type of offense is Public Intoxication?",
                options: [
                    "Class A Misdemeanor",
                    "Class B Misdemeanor",
                    "Class C Misdemeanor", 
                    "State Jail Felony"
                ],
                correct: 2,
                explanation: "Public Intoxication (PC 49.02) is a Class C Misdemeanor, punishable by fine only up to $500."
            },
            {
                question: "Which title of the Penal Code covers Offenses Against the Person?",
                options: [
                    "Title 4",
                    "Title 5",
                    "Title 6",
                    "Title 7"
                ],
                correct: 1,
                explanation: "Title 5 of the Texas Penal Code covers Offenses Against the Person, including assault, murder, and sexual offenses."
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let userAnswers = [];

        function initQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            document.getElementById('current-question').textContent = '1';
            document.getElementById('total-questions').textContent = penalCodeQuizData.length;
            document.getElementById('current-score').textContent = '0';
            document.getElementById('questions-answered').textContent = '0';
            document.getElementById('progress-bar').style.width = '0%';
            document.getElementById('quiz-results').classList.add('hidden');
            document.getElementById('explanation-container').classList.add('hidden');
            document.getElementById('next-btn').disabled = true;
            document.getElementById('prev-btn').disabled = true;
            showQuestion();
        }

        function showQuestion() {
            const question = penalCodeQuizData[currentQuestion];
            const container = document.getElementById('question-container');
            
            container.innerHTML = `
                <h3 class="text-lg font-semibold mb-4">${question.question}</h3>
                <div class="space-y-2">
                    ${question.options.map((option, index) => `
                        <label class="flex items-center p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                            <input type="radio" name="answer" value="${index}" class="mr-3" onchange="selectAnswer(${index})">
                            <span>${option}</span>
                        </label>
                    `).join('')}
                </div>
            `;
            
            document.getElementById('current-question').textContent = currentQuestion + 1;
            document.getElementById('prev-btn').disabled = currentQuestion === 0;
            
            // Restore previous answer if exists
            if (userAnswers[currentQuestion] !== undefined) {
                const radio = document.querySelector(`input[value="${userAnswers[currentQuestion]}"]`);
                if (radio) radio.checked = true;
                document.getElementById('next-btn').disabled = false;
            }
        }

        function selectAnswer(answerIndex) {
            userAnswers[currentQuestion] = answerIndex;
            document.getElementById('next-btn').disabled = false;
            
            // Show explanation
            const question = penalCodeQuizData[currentQuestion];
            const isCorrect = answerIndex === question.correct;
            const explanationContainer = document.getElementById('explanation-container');
            
            explanationContainer.innerHTML = `
                <div class="p-4 rounded-lg ${isCorrect ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'} border">
                    <p class="font-semibold ${isCorrect ? 'text-green-800' : 'text-red-800'}">${isCorrect ? 'Correct!' : 'Incorrect'}</p>
                    <p class="text-sm mt-1">${question.explanation}</p>
                </div>
            `;
            explanationContainer.classList.remove('hidden');
        }

        function nextQuestion() {
            if (currentQuestion < penalCodeQuizData.length - 1) {
                currentQuestion++;
                document.getElementById('explanation-container').classList.add('hidden');
                document.getElementById('next-btn').disabled = true;
                showQuestion();
                updateProgress();
            } else {
                finishQuiz();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                document.getElementById('explanation-container').classList.add('hidden');
                document.getElementById('next-btn').disabled = userAnswers[currentQuestion] === undefined;
                showQuestion();
                updateProgress();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / penalCodeQuizData.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        function finishQuiz() {
            // Calculate score
            score = 0;
            penalCodeQuizData.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    score++;
                }
            });
            
            // Show results
            document.getElementById('question-container').style.display = 'none';
            document.getElementById('explanation-container').style.display = 'none';
            document.querySelector('.flex.justify-between').style.display = 'none';
            
            const percentage = Math.round((score / penalCodeQuizData.length) * 100);
            document.getElementById('final-score').textContent = `${score}/${penalCodeQuizData.length} (${percentage}%)`;
            
            let message = '';
            if (percentage >= 90) {
                message = 'Excellent! You have a strong understanding of the Texas Penal Code.';
            } else if (percentage >= 80) {
                message = 'Good job! You have a solid grasp of the material.';
            } else if (percentage >= 70) {
                message = 'Not bad! Consider reviewing the material for better understanding.';
            } else {
                message = 'Keep studying! Review the material and try again.';
            }
            
            document.getElementById('performance-message').textContent = message;
            document.getElementById('quiz-results').classList.remove('hidden');
            
            // Update progress bar to 100%
            document.getElementById('progress-bar').style.width = '100%';
            document.getElementById('current-score').textContent = score;
            document.getElementById('questions-answered').textContent = penalCodeQuizData.length;
        }

        function restartQuiz() {
            document.getElementById('question-container').style.display = 'block';
            document.querySelector('.flex.justify-between').style.display = 'flex';
            initQuiz();
        }

        // Event listeners
        document.getElementById('next-btn').addEventListener('click', nextQuestion);
        document.getElementById('prev-btn').addEventListener('click', prevQuestion);
        document.getElementById('restart-quiz').addEventListener('click', restartQuiz);

        // Initialize quiz on page load
        initQuiz();
    </script>
</body>
</html>
