<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Racial Profiling Study Guide</title>
    <link rel="stylesheet" href="../dist/output.css">
    <style>
        body { font-family: 'Inter', sans-serif; }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        details > summary { 
            cursor: pointer;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            transition: background-color 0.2s;
            font-weight: 600;
        }
        details > summary:hover {
            background-color: #f8fafc;
        }
        details[open] > summary {
            background-color: #f1f5f9;
        }
        
        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .container {
                padding: 1rem !important;
            }
            
            h1 {
                font-size: 2rem !important;
            }
            
            h2 {
                font-size: 1.5rem !important;
            }
            
            h3 {
                font-size: 1.25rem !important;
            }
            
            /* Improve touch targets for mobile */
            details > summary {
                padding: 1rem;
                font-size: 1.1rem;
                min-height: 48px;
                display: flex;
                align-items: center;
            }
            
            /* Better spacing for mobile */
            .space-y-8 > * + * {
                margin-top: 1.5rem !important;
            }
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <header class="text-center mb-8">
            <div class="mb-4">
                <a href="../index.html" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium">
                    <span class="mr-2">←</span> Back to Main
                </a>
            </div>
            <h1 class="text-4xl font-bold text-slate-800">Racial Profiling</h1>
            <p class="text-slate-600 mt-2">Study Guide for Law Enforcement</p>
        </header>

        <main class="space-y-8">
            <!-- Section 1: Overview -->
            <section id="overview" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">Understanding Racial Profiling</h2>
                <p class="mb-4">Racial profiling is a serious issue in law enforcement that undermines community trust and violates constitutional rights. Understanding its definitions, legal implications, and prevention strategies is crucial for all officers.</p>
                <div class="p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg">
                    <h4 class="font-bold text-red-800">Key Points</h4>
                    <ul class="list-disc list-inside mt-2 text-sm space-y-1">
                        <li>Racial profiling is prohibited by law</li>
                        <li>It violates the 4th and 14th Amendments</li>
                        <li>It damages community-police relations</li>
                        <li>Prevention requires ongoing training and awareness</li>
                        <li>Documentation and reporting are essential</li>
                    </ul>
                </div>
            </section>

            <!-- Section 2: Legal Definitions -->
            <section id="definitions" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">Legal Definitions</h2>
                
                <div class="space-y-4">
                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Racial Profiling Definition</summary>
                        <div class="p-4 border-t text-sm">
                            <p class="mb-2">Racial profiling is the practice of targeting individuals for suspicion of crime based on the individual's race, ethnicity, religion, or national origin.</p>
                            <p class="mb-2">This includes:</p>
                            <ul class="space-y-1 ml-4">
                                <li>• Traffic stops based primarily on race</li>
                                <li>• Searches based on ethnic appearance</li>
                                <li>• Increased scrutiny due to religious dress</li>
                                <li>• Assumptions about criminal activity based on race</li>
                            </ul>
                        </div>
                    </details>

                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Constitutional Violations</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>4th Amendment:</strong> Protects against unreasonable searches and seizures</li>
                                <li><strong>14th Amendment:</strong> Guarantees equal protection under the law</li>
                                <li><strong>Due Process:</strong> Ensures fair treatment under the law</li>
                                <li><strong>Civil Rights:</strong> Protects against discrimination</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </section>

            <!-- Section 3: Prevention Strategies -->
            <section id="prevention" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">Prevention Strategies</h2>
                
                <div class="space-y-4">
                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Best Practices</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Focus on Behavior:</strong> Base stops on specific, articulable facts about behavior</li>
                                <li><strong>Document Thoroughly:</strong> Record the specific reasons for each stop</li>
                                <li><strong>Seek Diverse Perspectives:</strong> Work with community groups and diverse officers</li>
                                <li><strong>Ongoing Training:</strong> Participate in bias awareness and cultural competency training</li>
                            </ul>
                        </div>
                    </details>

                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Bias Recognition</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Unconscious Bias:</strong> Acknowledge that everyone has unconscious biases</li>
                                <li><strong>Self-Reflection:</strong> Regularly examine your own assumptions and reactions</li>
                                <li><strong>Pattern Recognition:</strong> Look for patterns in your enforcement activities</li>
                                <li><strong>Peer Feedback:</strong> Discuss cases with colleagues to identify potential bias</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </section>

            <!-- Section 4: Reporting and Documentation -->
            <section id="reporting" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">Reporting and Documentation</h2>
                
                <div class="space-y-4">
                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Required Documentation</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Traffic Stop Data:</strong> Demographics, reason for stop, outcome</li>
                                <li><strong>Search Information:</strong> Basis for search, items found, consent given</li>
                                <li><strong>Arrest Details:</strong> Charges, evidence, circumstances</li>
                                <li><strong>Complaint Reports:</strong> Allegations, investigations, outcomes</li>
                            </ul>
                        </div>
                    </details>

                    <details class="border border-slate-200 rounded-lg">
                        <summary class="bg-slate-50 p-4 font-semibold">Data Analysis</summary>
                        <div class="p-4 border-t text-sm">
                            <ul class="space-y-2">
                                <li><strong>Pattern Analysis:</strong> Look for disproportionate impacts on minority groups</li>
                                <li><strong>Outcome Tracking:</strong> Monitor search success rates by demographics</li>
                                <li><strong>Complaint Trends:</strong> Track and analyze bias-related complaints</li>
                                <li><strong>Training Needs:</strong> Identify areas requiring additional training</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </section>

            <!-- Interactive Quiz Section -->
            <section id="interactive-quiz" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-4 text-slate-700">Interactive Quiz: Racial Profiling</h2>
                <p class="mb-6 text-slate-600">Test your understanding of racial profiling laws, prevention strategies, and best practices.</p>
                
                <div id="quiz-container" class="space-y-6">
                    <div class="flex justify-between items-center mb-4">
                        <div class="text-sm text-slate-600">
                            Question <span id="current-question">1</span> of <span id="total-questions">8</span>
                        </div>
                        <div class="text-sm text-slate-600">
                            Score: <span id="current-score">0</span>/<span id="questions-answered">0</span>
                        </div>
                    </div>
                    
                    <div class="w-full bg-slate-200 rounded-full h-2 mb-6">
                        <div id="progress-bar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                    
                    <div id="question-container" class="p-6 bg-slate-50 rounded-lg">
                        <!-- Questions will be populated by JavaScript -->
                    </div>
                    
                    <div id="explanation-container" class="hidden p-4 rounded-lg">
                        <!-- Explanations will be shown after each answer -->
                    </div>
                    
                    <div class="flex justify-between">
                        <button id="prev-btn" class="px-4 py-2 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Previous
                        </button>
                        <button id="next-btn" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Next Question
                        </button>
                    </div>
                    
                    <div id="quiz-results" class="hidden p-6 bg-slate-50 rounded-lg text-center">
                        <h3 class="text-xl font-bold mb-4">Quiz Complete!</h3>
                        <div id="final-score" class="text-3xl font-bold text-blue-600 mb-4"></div>
                        <div id="performance-message" class="text-slate-600 mb-4"></div>
                        <button id="restart-quiz" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                            Retake Quiz
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Quiz Data for Racial Profiling
        const racialProfilingQuizData = [
            {
                question: "What is racial profiling?",
                options: [
                    "Targeting individuals based on their behavior patterns",
                    "Targeting individuals based on race, ethnicity, religion, or national origin",
                    "Profiling based on criminal history",
                    "Analyzing demographic crime statistics"
                ],
                correct: 1,
                explanation: "Racial profiling is the practice of targeting individuals for suspicion of crime based on race, ethnicity, religion, or national origin rather than on specific behavior or evidence."
            },
            {
                question: "Which constitutional amendments are violated by racial profiling?",
                options: [
                    "1st and 2nd Amendments",
                    "4th and 14th Amendments",
                    "5th and 6th Amendments",
                    "8th and 9th Amendments"
                ],
                correct: 1,
                explanation: "Racial profiling violates the 4th Amendment (protection against unreasonable searches and seizures) and the 14th Amendment (equal protection under the law)."
            },
            {
                question: "What should traffic stops be based on?",
                options: [
                    "The driver's appearance",
                    "The neighborhood where the stop occurs",
                    "Specific, articulable facts about behavior or violations",
                    "General demographic patterns"
                ],
                correct: 2,
                explanation: "Traffic stops should be based on specific, articulable facts about behavior, traffic violations, or other legitimate law enforcement reasons, not on race or ethnicity."
            },
            {
                question: "What is unconscious bias?",
                options: [
                    "Deliberate discrimination",
                    "Bias that everyone has without being aware of it",
                    "Bias based on training",
                    "Bias that only affects certain people"
                ],
                correct: 1,
                explanation: "Unconscious bias refers to the biases that everyone has without being consciously aware of them. Recognizing this is the first step in preventing discriminatory behavior."
            },
            {
                question: "Why is documentation important in preventing racial profiling?",
                options: [
                    "It's required by law",
                    "It helps identify patterns and ensures accountability",
                    "It protects officers from lawsuits",
                    "It makes reports look more professional"
                ],
                correct: 1,
                explanation: "Documentation helps identify patterns that might indicate bias, ensures accountability, and provides data for analysis and improvement of policing practices."
            },
            {
                question: "What should officers do if they suspect they may have unconscious bias?",
                options: [
                    "Ignore it since it's unconscious",
                    "Engage in self-reflection and seek training",
                    "Transfer to a different department",
                    "Only work with officers of the same background"
                ],
                correct: 1,
                explanation: "Officers should engage in self-reflection, seek bias awareness training, and work to recognize and address their unconscious biases through ongoing education and practice."
            },
            {
                question: "What is the best way to build community trust?",
                options: [
                    "Increase enforcement in minority neighborhoods",
                    "Focus on behavior-based policing and fair treatment",
                    "Avoid contact with community groups",
                    "Only hire officers from the local community"
                ],
                correct: 1,
                explanation: "Building community trust requires fair, behavior-based policing, consistent treatment regardless of race or ethnicity, and active engagement with diverse community groups."
            },
            {
                question: "What should be included in traffic stop documentation?",
                options: [
                    "Only the violation and outcome",
                    "Demographics, reason for stop, outcome, and search information",
                    "Just the driver's license information",
                    "Only information if an arrest is made"
                ],
                correct: 1,
                explanation: "Comprehensive documentation should include demographics, the specific reason for the stop, the outcome, any searches conducted and their basis, and other relevant details for analysis and accountability."
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let userAnswers = [];

        function initQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            document.getElementById('current-question').textContent = '1';
            document.getElementById('total-questions').textContent = racialProfilingQuizData.length;
            document.getElementById('current-score').textContent = '0';
            document.getElementById('questions-answered').textContent = '0';
            document.getElementById('progress-bar').style.width = '0%';
            document.getElementById('quiz-results').classList.add('hidden');
            document.getElementById('explanation-container').classList.add('hidden');
            document.getElementById('next-btn').disabled = true;
            document.getElementById('prev-btn').disabled = true;
            showQuestion();
        }

        function showQuestion() {
            const question = racialProfilingQuizData[currentQuestion];
            const container = document.getElementById('question-container');
            
            container.innerHTML = `
                <h3 class="text-lg font-semibold mb-4">${question.question}</h3>
                <div class="space-y-2">
                    ${question.options.map((option, index) => `
                        <label class="flex items-center p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                            <input type="radio" name="answer" value="${index}" class="mr-3" onchange="selectAnswer(${index})">
                            <span>${option}</span>
                        </label>
                    `).join('')}
                </div>
            `;
            
            document.getElementById('current-question').textContent = currentQuestion + 1;
            document.getElementById('prev-btn').disabled = currentQuestion === 0;
            
            // Restore previous answer if exists
            if (userAnswers[currentQuestion] !== undefined) {
                const radio = document.querySelector(`input[value="${userAnswers[currentQuestion]}"]`);
                if (radio) radio.checked = true;
                document.getElementById('next-btn').disabled = false;
            }
        }

        function selectAnswer(answerIndex) {
            userAnswers[currentQuestion] = answerIndex;
            document.getElementById('next-btn').disabled = false;
            
            // Show explanation
            const question = racialProfilingQuizData[currentQuestion];
            const isCorrect = answerIndex === question.correct;
            const explanationContainer = document.getElementById('explanation-container');
            
            explanationContainer.innerHTML = `
                <div class="p-4 rounded-lg ${isCorrect ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'} border">
                    <p class="font-semibold ${isCorrect ? 'text-green-800' : 'text-red-800'}">${isCorrect ? 'Correct!' : 'Incorrect'}</p>
                    <p class="text-sm mt-1">${question.explanation}</p>
                </div>
            `;
            explanationContainer.classList.remove('hidden');
        }

        function nextQuestion() {
            if (currentQuestion < racialProfilingQuizData.length - 1) {
                currentQuestion++;
                document.getElementById('explanation-container').classList.add('hidden');
                document.getElementById('next-btn').disabled = true;
                showQuestion();
                updateProgress();
            } else {
                finishQuiz();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                document.getElementById('explanation-container').classList.add('hidden');
                document.getElementById('next-btn').disabled = userAnswers[currentQuestion] === undefined;
                showQuestion();
                updateProgress();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / racialProfilingQuizData.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        function finishQuiz() {
            // Calculate score
            score = 0;
            racialProfilingQuizData.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    score++;
                }
            });
            
            // Show results
            document.getElementById('question-container').style.display = 'none';
            document.getElementById('explanation-container').style.display = 'none';
            document.querySelector('.flex.justify-between').style.display = 'none';
            
            const percentage = Math.round((score / racialProfilingQuizData.length) * 100);
            document.getElementById('final-score').textContent = `${score}/${racialProfilingQuizData.length} (${percentage}%)`;
            
            let message = '';
            if (percentage >= 90) {
                message = 'Excellent! You have a strong understanding of racial profiling prevention.';
            } else if (percentage >= 80) {
                message = 'Good job! You have a solid grasp of the material.';
            } else if (percentage >= 70) {
                message = 'Not bad! Consider reviewing the material for better understanding.';
            } else {
                message = 'Keep studying! This is critical material for fair and effective policing.';
            }
            
            document.getElementById('performance-message').textContent = message;
            document.getElementById('quiz-results').classList.remove('hidden');
            
            // Update progress bar to 100%
            document.getElementById('progress-bar').style.width = '100%';
            document.getElementById('current-score').textContent = score;
            document.getElementById('questions-answered').textContent = racialProfilingQuizData.length;
        }

        function restartQuiz() {
            document.getElementById('question-container').style.display = 'block';
            document.querySelector('.flex.justify-between').style.display = 'flex';
            initQuiz();
        }

        // Event listeners
        document.getElementById('next-btn').addEventListener('click', nextQuestion);
        document.getElementById('prev-btn').addEventListener('click', prevQuestion);
        document.getElementById('restart-quiz').addEventListener('click', restartQuiz);

        // Initialize quiz on page load
        initQuiz();
    </script>
</body>
</html>
